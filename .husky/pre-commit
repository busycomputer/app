#!/usr/bin/env bash

# Load the Nix environment through direnv
eval "$(direnv export bash)"

# Now run your checks in the Nix environment
. "$(dirname -- "$0")/_/husky.sh"

# Run type check
bun tsc --noEmit

# Run linting
bun lint

# Run formatting
bun format
nixfmt flake.nix

# Stage formatting changes
git add -u
