{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.13.7/.schema/devbox.schema.json",
  "packages": [
    "nodejs_22@latest",
    "corepack@latest",
    "coreutils@latest",
    "act@latest",
    "colima@latest",
    "docker@latest",
    "toml-cli@latest"
  ],
  "env": {
    "DOCKER_HOST": "unix://$HOME/.colima/docker.sock"
  },
  "shell": {
    "init_hook": [
      "export PATH=$(pwd)/node_modules/.bin:$PATH",
      "colima status || devbox services up -b && exit 0"
    ],
    "scripts": {
      "supabase": ["supabase start"],
      "inngest": [
        "docker run -d --network supabase_network_$(toml get --raw supabase/config.toml project_id) -p 8288:8288 inngest/inngest inngest dev"
      ],
      "test": ["act push -j test"]
    }
  }
}
